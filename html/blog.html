<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Blogs</title>
    <meta name="description" content="The blog page of SynTech">
    <meta name="author" content="SynTech Blogs">
    <!---Bootstrap CSS from file-->
    <link rel="stylesheet" type="text/css" href="bootstrap/css/bootstrap.min.css" />
</html>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<body style="background-color: #141615">
  <nav class="navbar navbar-expand-lg bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand text-white" href="#">SynTech</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active text-white" aria-current="home" href="/">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="/blog">Blog</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="/login">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="/register">Register</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <br>
  <div class="container">
    <!--make a post-->
    <div class="row">
       <script>
        /// load all posts and show them
        $(document).ready(function() {
          $.ajax({
            url: '/blog/all',
            type: 'GET',
            success: function(data) {
              console.log(data);

              /// check if data is empty
              if(data.length == 0) {
                $('#posts').append('<div class="col-sm-12"><h1 class="text-center text-white fs-10">No Posts Yet</h1></div>');
              }

              for (var i = 0; i < data.length; i++) {
                $('#posts').append(
                  /// make a dynamic article box with bootstrap classes
                  // box class
                  '<div class="col-sm-12">' +
                    // article class
                    '<article class="card">' +
                      // header class
                      '<header class="card-header">' +
                        // title class
                        '<h1 class="card-title text-center">' + data[i].title + '</h1>' +
                      '</header>' +
                      // body class
                      '<div class="card-body">' +
                        // body text class
                        '<p class="card-text">' + data[i].body + '</p>' +
                      '</div>' +
                      // footer class
                      '<footer class="card-footer">' +
                        // footer text class
                        '<p class="card-text">' + data[i].author + '</p>' +
                      '</footer>' +
                    '</article>' +
                  '</div>' +
                  '<br>'

                );
                }
            }
            });
        });
        </script>
        <div id="posts"></div>
    </div>
</div>
</body>